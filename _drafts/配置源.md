配置源

Centos镜像使用帮助

首先备份CentOS-Base.repo

mv /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup


下载对应版本的CentOS-Base.repo, 放入/etc/yum.repos.d/

运行yum makecache生成缓存

错误原因
下载过多的repo，然后有些源是错误的，所以没有成功

配置中国科技大学的源
https://lug.ustc.edu.cn/wiki/mirrors/help/centos


Enable Third Party Repositories

Add Extra Package for Enterprise Linux (EPEL) Repository

# yum install epel-release

Add Community Enterprise Linux Repository.

# rpm -Uvh http://www.elrepo.org/elrepo-release-7.0-2.el7.elrepo.noarch.rpm


mosquito-myrepo在不断地支持更多的软件，这也进一步造成该repo中的软件与base、EPEL中的软件存在版本冲突，在该repo的项目主页中建议安装yum的优先级插件yum-plugin-priorities，这在一定程度上会缓解版本冲突问题，但无法从根本上避免。鉴于多个repo的版本冲突会造成一些麻烦，最好的办法还是在安装完需要的软件之后就禁用该repo，需要的时候再启用。

编辑/etc/yum.repos.d/mosquito-myrepo-epel-7.repo，将其中的enable=1改成enable=0即可。

Install and Enable SELinux

yum install selinux-policy

Check SELinux Mode.
# getenforce

For debugging, set selinux mode to permissive temporarily. No need to reboot.

# setenforce 0
After debugging set selinux to enforcing again without rebooting.

# setenforce 1
 SElinux概述

SELinux(Security-Enhanced Linux) 是美国国家安全局（NAS）对于强制访问控 制的实现，在这种访问控制体系的限制下，进程只能访问那些在他的任务中所需要文件。大部分使用 SELinux 的人使用的都是SELinux就绪的发行版，例如 Fedora、Red Hat Enterprise Linux (RHEL)、Debian 或 Gentoo。它们都是在内核中启用SELinux 的，并且提供一个可定制的安全策略，还提供很多用户层的库和工具，它们都可以使用 SELinux 的功能。

1.1.1 SElinux特点

1.MAC

对访问的控制彻底化，对所有的文件、目录、端口的访问都是基于策略设定的，可由管理员时行设定。

2.RBAC

对于用户只赋予最小权限。用户被划分成了一些role(角色)，即使是root用户，如果不具有sysadm_r角色的话，也不是执行相关的管理。哪里role可以执行哪些domain,也是可以修改的。

3.安全上下文

当启动selinux的时候，所有文件与对象都有安全上下文。进程的安全上下文是域，安全上下文由用户:角色:类型表示。

(1)系统根据pam子系统中的pam_selinux.so模块设定登录者运行程序的安全上下文

(2)rpm包安装会根据rpm包内记录来生成安全上下文，

(3)如果是手工他建的，会根据policy中规定来设置安全上下文，

(4)如果是cp，会重新生成安全上下文。

(5)如果是mv,安全上下文不变。

1.1.2 安全上下文格式

安全上下文由user:role:type三部分组成，下面分别说明其作用：

1.user identity:类似linux系统中的UID，提供身份识别，安全上下文中的一部分。

三种常见的user:

user_u-:   普通用户登录系统后预设；

system_u-：开机过程中系统进程的预设；

root-：    root登录后预设；
